{
  "styles.css": [
    {
      "id": "notebook-1764087187299_w28aq1ovd",
      "filePath": "styles.css",
      "note": "⚠️ Flexbox 文本截断：.note-architect-template-path-inline（第1881-1891行）必须包含 min-width: 0，这是 Flexbox 子元素正确应用 text-overflow: ellipsis 的关键。不可删除此属性，否则在嵌套 Flexbox 中长文本会导致布局溢出。",
      "createdAt": "2025-11-26T00:13:07.299",
      "updatedAt": "2025-11-26T00:13:07.299"
    },
    {
      "id": "notebook-1764086955428_ohgpu58aw",
      "filePath": "styles.css",
      "note": "✅ 错误状态样式已优化（第79-86行）：移除了 !important，改用增加选择器权重的方式（input.class.class--modifier）。保留的 4 处 !important 均位于 prefers-reduced-motion 媒体查询中（1204-1215行），用于无障碍访问，应保持不变。",
      "createdAt": "2025-11-26T00:09:15.428",
      "updatedAt": "2025-11-26T00:09:15.428"
    },
    {
      "id": "notebook-1764086636729_xnc6rsp5w",
      "filePath": "styles.css",
      "note": "⚠️ Focus 样式已统一优化：第63-77行的 :is() 选择器统一管理所有输入控件的 focus 状态（包括 input-base, search-input, field-input, form-input, preset-name-input, field-select, form-select）。已删除所有重复的 focus 定义。唯一保留的特殊 focus 样式：.note-architect-form-checkbox:focus（第1719行，使用 outline）。如需修改输入控件的 focus 样式，只需修改统一的 :is() 块或调整 CSS 变量 --interactive-accent 和 --note-architect-input-focus-width。",
      "createdAt": "2025-11-26T00:03:56.729",
      "updatedAt": "2025-11-26T00:03:56.729"
    },
    {
      "id": "notebook-1764086063487_q33qvujz5",
      "filePath": "styles.css",
      "note": "✅ CSS选择器已优化：第24-77行的输入控件基础样式、Hover状态、Focus状态均已使用:is()简化。从21个重复选择器减少到3个:is()块，提升了可维护性。如需降低特异性便于覆盖，可将:is()替换为:where()。",
      "createdAt": "2025-11-25T23:54:23.487",
      "updatedAt": "2025-11-25T23:54:23.487"
    },
    {
      "id": "notebook-1764083486680_23vh48j0q",
      "filePath": "styles.css",
      "note": "⚠️ 媒体查询已优化合并：相同断点的媒体查询已统一放置在文件末尾（1933-2204行），按断点大小排序（768px→700px→640px→480px）。修改时注意保持这个结构，避免重新分散。特别保留的规则：640px断点的field-config-layout移动端布局（1131行）和prefers-reduced-motion动画优化（1209行）。",
      "createdAt": "2025-11-25T23:11:26.680",
      "updatedAt": "2025-11-25T23:11:26.680"
    }
  ],
  "src/utils/preset-id.ts": [
    {
      "id": "notebook-1764088763469_8fmpgqhgr",
      "filePath": "src/utils/preset-id.ts",
      "note": "⚠️ 重构完成：已提取 resolveIdConflict 函数来消除重复代码。generateUniquePresetId 和 generateUniquePresetIdFromOriginalId 现在都使用统一的冲突解决算法。注意：resolveIdConflict 是内部函数（未导出），用于封装 ID 冲突解决的核心逻辑（后缀递增 + 时间戳降级）。",
      "createdAt": "2025-11-26T00:39:23.469",
      "updatedAt": "2025-11-26T00:39:23.469"
    }
  ],
  "src/ui/template-preset-binding-modal.ts": [
    {
      "id": "notebook-1764178078651_4dzi48h9e",
      "filePath": "src/ui/template-preset-binding-modal.ts",
      "note": "⚠️ 已移除智能匹配功能 - 此模态窗口现在使用简单的名称/ID/描述过滤，不再依赖 PresetMatcher 进行智能推荐。filteredResults 类型为 FrontmatterPreset[]（原 PresetMatchResult[]）",
      "createdAt": "2025-11-27T01:27:58.651",
      "updatedAt": "2025-11-27T01:27:58.651"
    }
  ],
  "src/ui/dynamic-preset-selector-modal.ts": [
    {
      "id": "notebook-1764777329762_wscln6vue",
      "filePath": "src/ui/dynamic-preset-selector-modal.ts",
      "note": "✅ 已重构为通用选择器：GeneralPresetSelectorModal 解除了与 Template 的耦合，通过 PresetSelectorModalOptions 配置标题、描述、按钮显示等。DynamicPresetSelectorModal 作为向后兼容包装器保留。新场景应使用 GeneralPresetSelectorModal。",
      "createdAt": "2025-12-03T23:55:29.762",
      "updatedAt": "2025-12-03T23:55:29.762"
    }
  ],
  "src/actions/insert-template.ts": [
    {
      "id": "notebook-1765093121242_s06f879yg",
      "filePath": "src/actions/insert-template.ts",
      "note": "✅ [2025-12-07 修复] executeTemplateInsertion 执行顺序已修复：必须先 updateNoteFrontmatter（文件顶部），再 editor.replaceSelection（光标位置）。旧版本顺序错误导致 frontmatter 被放置在正文之后。",
      "createdAt": "2025-12-07T15:38:41.242",
      "updatedAt": "2025-12-07T15:38:41.242"
    },
    {
      "id": "notebook-1764955598581_86jpr8wi7",
      "filePath": "src/actions/insert-template.ts",
      "note": "⚠️ executeTemplateInsertion 函数必须先执行 updateNoteFrontmatter（更新 Frontmatter），再执行 editor.replaceSelection（插入正文）。顺序颠倒会导致光标在文件开头时，正文插入使 Frontmatter 行号下移，导致位置错乱和内容覆盖。",
      "createdAt": "2025-12-06T01:26:38.581",
      "updatedAt": "2025-12-06T01:26:38.581"
    }
  ],
  "src/ui/universal-preset-selector-modal.ts": [
    {
      "id": "notebook-1765092303098_kwbdeb20h",
      "filePath": "src/ui/universal-preset-selector-modal.ts",
      "note": "⚠️ 统一的预设选择模态窗口实现，支持三种使用场景：1) 模板绑定（asyncSelectMode + keepOpenAfterSelect），2) 动态选择（customButtons），3) 通用选择。异步模式下必须使用 runWithBusy 确保加载状态正确。已替代 TemplatePresetBindingModal 和 GeneralPresetSelectorModal。",
      "createdAt": "2025-12-07T15:25:03.098",
      "updatedAt": "2025-12-07T15:25:03.098"
    }
  ],
  "src/engine/ObsidianTemplaterAdapter.ts": [
    {
      "id": "notebook-1765094547467_4ewc94d9t",
      "filePath": "src/engine/ObsidianTemplaterAdapter.ts",
      "note": "⚠️ 重构说明：新增 processString() 方法用于处理字符串中的 Templater 表达式。此方法专门用于解析单个字符串（如默认值中的 `<% tp.date.now() %>`），无需构造完整的 Template 对象。UI 层应使用此方法而不是手动构造临时 Template 对象调用 processTemplate()。",
      "createdAt": "2025-12-07T16:02:27.467",
      "updatedAt": "2025-12-07T16:02:27.467"
    }
  ],
  "src/engine/TemplateEngine.ts": [
    {
      "id": "notebook-1765094570291_iuax5lk1j",
      "filePath": "src/engine/TemplateEngine.ts",
      "note": "⚠️ 新增导出函数：processTemplaterString(app, content) 提供便捷的字符串 Templater 表达式解析。外部模块可直接导入此函数而无需手动实例化 ObsidianTemplaterAdapter。",
      "createdAt": "2025-12-07T16:02:50.291",
      "updatedAt": "2025-12-07T16:02:50.291"
    }
  ],
  "src/ui/frontmatter-manager-modal.ts": [
    {
      "id": "notebook-1765094580731_6xknxz0ma",
      "filePath": "src/ui/frontmatter-manager-modal.ts",
      "note": "⚠️ 重构记录：parseTemplaterDefaults() 方法已简化，不再手动构造临时 Template 对象。现在直接调用 adapter.processString(defaultValue) 来解析 Templater 表达式。此更改消除了代码重复，更符合职责分离原则。",
      "createdAt": "2025-12-07T16:03:00.731",
      "updatedAt": "2025-12-07T16:03:00.731"
    }
  ],
  "src/ui/ui-utils.ts": [
    {
      "id": "notebook-1765095312701_av6tgrvxi",
      "filePath": "src/ui/ui-utils.ts",
      "note": "✅ 新增 renderPresetDescription 工具函数 - 统一生成预设 ID 徽标和描述文本的 DocumentFragment。支持自定义分隔符、CSS 类名和是否包含描述文本。被 UniversalPresetSelectorModal 使用，消除了重复的 buildPresetDesc 方法。",
      "createdAt": "2025-12-07T16:15:12.701",
      "updatedAt": "2025-12-07T16:15:12.701"
    },
    {
      "id": "notebook-1765095023157_pwugzuyg8",
      "filePath": "src/ui/ui-utils.ts",
      "note": "✅ 新增 createMultiSelectCheckbox 工具函数 - 复选框组件的通用创建方法，支持自定义 label 样式、is-checked 样式切换、label 关联等功能。被 FrontmatterFormView 和 FieldConfigForm 使用，消除了重复代码。",
      "createdAt": "2025-12-07T16:10:23.157",
      "updatedAt": "2025-12-07T16:10:23.157"
    }
  ],
  "src/utils/ui.ts": [
    {
      "id": "notebook-1765097401795_7qcxqsbl0",
      "filePath": "src/utils/ui.ts",
      "note": "✅ copyToClipboard 函数已从 src/actions/insert-template.ts 提取到此通用工具文件，包含 navigator.clipboard 和 document.execCommand 降级处理逻辑",
      "createdAt": "2025-12-07T16:50:01.795",
      "updatedAt": "2025-12-07T16:50:01.795"
    }
  ],
  "src/ui/simple-confirm-modal.ts": [
    {
      "id": "notebook-1765212740754_3y3y6khme",
      "filePath": "src/ui/simple-confirm-modal.ts",
      "note": "✅ 已优化：使用 ButtonComponent 替代手动创建的 button 元素，确保按钮样式与主题匹配",
      "createdAt": "2025-12-09T00:52:20.754",
      "updatedAt": "2025-12-09T00:52:20.754"
    }
  ],
  "src/ui/field-config/detail-panel-view.ts": [
    {
      "id": "notebook-1765212740755_4cemg3a4i",
      "filePath": "src/ui/field-config/detail-panel-view.ts",
      "note": "✅ 已优化：使用 ButtonComponent 创建返回和删除按钮，移除了手动事件监听和 clickable-icon 类",
      "createdAt": "2025-12-09T00:52:20.755",
      "updatedAt": "2025-12-09T00:52:20.755"
    }
  ],
  "src/ui/note-architect-setting-tab.ts": [
    {
      "id": "notebook-1765212740756_7y5hbm05a",
      "filePath": "src/ui/note-architect-setting-tab.ts",
      "note": "✅ 已优化：验证按钮使用 ButtonComponent 和 setCta() 方法，保持与 withBusy 工具的兼容性",
      "createdAt": "2025-12-09T00:52:20.756",
      "updatedAt": "2025-12-09T00:52:20.756"
    }
  ],
  "src/ui/field-config-modal.ts": [
    {
      "id": "notebook-1765212740757_vatfhudif",
      "filePath": "src/ui/field-config-modal.ts",
      "note": "✅ 已优化：底部操作按钮使用 ButtonComponent，保存按钮使用 setCta() 设置主要样式",
      "createdAt": "2025-12-09T00:52:20.757",
      "updatedAt": "2025-12-09T00:52:20.757"
    }
  ]
}